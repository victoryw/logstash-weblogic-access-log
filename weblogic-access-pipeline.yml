input {
  file {
    path => "${ACCESS_LOG_PATH}"
    type => "weblogic-access"
    tags => "${TAGS}"
  }
}

filter {
   grok {
      match => [ "message", "%{IP:client} - - \[(?<timestamp>%{MONTHDAY}[./-]%{MONTH}[./-]%{YEAR}:%{TIME}\s+%{ISO8601_TIMEZONE})] \"%{WORD:verb} %{URIPATHPARAM:uri}\s+HTTP.+?\" %{NUMBER:status:int} %{NUMBER:response_time:float}" ]
    }
    date {
      match => [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]
    }
}

output {
    elasticsearch {
      hosts => "${ES_SERVICES}"
      index => "${INDEX}"
    }
}

